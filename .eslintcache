[{"/home/cyril/projets CC/POSTGRES/yelp/client/src/App.js":"1","/home/cyril/projets CC/POSTGRES/yelp/client/src/reportWebVitals.js":"2","/home/cyril/projets CC/POSTGRES/yelp/client/src/routes/UpdatePage.js":"3","/home/cyril/projets CC/POSTGRES/yelp/client/src/routes/Home.js":"4","/home/cyril/projets CC/POSTGRES/yelp/client/src/components/Header.js":"5","/home/cyril/projets CC/POSTGRES/yelp/client/src/components/AddRestaurant.js":"6","/home/cyril/projets CC/POSTGRES/yelp/client/src/components/RestaurantList.js":"7","/home/cyril/projets CC/POSTGRES/yelp/client/src/context/RestaurantsContext.js":"8","/home/cyril/projets CC/POSTGRES/yelp/client/src/index.js":"9","/home/cyril/projets CC/POSTGRES/yelp/client/src/apis/RestaurantFinder.js":"10","/home/cyril/projets CC/POSTGRES/yelp/client/src/components/UpdateRestaurant.js":"11","/home/cyril/projets CC/POSTGRES/yelp/client/src/routes/RestaurantDetailPage.js":"12","/home/cyril/projets CC/POSTGRES/yelp/client/src/components/StarRating.js":"13","/home/cyril/projets CC/POSTGRES/yelp/client/src/components/Reviews.js":"14","/home/cyril/projets CC/POSTGRES/yelp/client/src/components/AddReview.js":"15"},{"size":852,"mtime":1610376633152,"results":"16","hashOfConfig":"17"},{"size":362,"mtime":1610131513510,"results":"18","hashOfConfig":"17"},{"size":274,"mtime":1610373101042,"results":"19","hashOfConfig":"17"},{"size":350,"mtime":1610356641295,"results":"20","hashOfConfig":"17"},{"size":203,"mtime":1610362432921,"results":"21","hashOfConfig":"17"},{"size":2324,"mtime":1610442974474,"results":"22","hashOfConfig":"17"},{"size":3590,"mtime":1610464959708,"results":"23","hashOfConfig":"17"},{"size":619,"mtime":1610379342238,"results":"24","hashOfConfig":"17"},{"size":500,"mtime":1610131513510,"results":"25","hashOfConfig":"17"},{"size":126,"mtime":1610558276712,"results":"26","hashOfConfig":"17"},{"size":2318,"mtime":1610375363447,"results":"27","hashOfConfig":"17"},{"size":1769,"mtime":1610465461852,"results":"28","hashOfConfig":"17"},{"size":573,"mtime":1610448139923,"results":"29","hashOfConfig":"17"},{"size":947,"mtime":1610448065203,"results":"30","hashOfConfig":"17"},{"size":2382,"mtime":1610451183710,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"15l2yze",{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"49"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"49"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"/home/cyril/projets CC/POSTGRES/yelp/client/src/App.js",[],["68","69"],"/home/cyril/projets CC/POSTGRES/yelp/client/src/reportWebVitals.js",[],["70","71"],"/home/cyril/projets CC/POSTGRES/yelp/client/src/routes/UpdatePage.js",[],"/home/cyril/projets CC/POSTGRES/yelp/client/src/routes/Home.js",[],"/home/cyril/projets CC/POSTGRES/yelp/client/src/components/Header.js",[],"/home/cyril/projets CC/POSTGRES/yelp/client/src/components/AddRestaurant.js",[],"/home/cyril/projets CC/POSTGRES/yelp/client/src/components/RestaurantList.js",["72"],"import React, {useEffect, useContext} from 'react';\nimport { useHistory } from 'react-router-dom';\nimport RestaurantFinder from '../apis/RestaurantFinder'\nimport { RestaurantsContext } from '../context/RestaurantsContext';\nimport StarRating from './StarRating';\nimport './style.css';\n\n const RestaurantList = (props) => {\n    const {restaurants, setRestaurants} = useContext(RestaurantsContext);\n    let history = useHistory()\n    useEffect(() => {\n\n        const fetchData = async () => {\n            try {\n                const response = await RestaurantFinder.get(\"/\")\n                console.log(response.data.data)\n                setRestaurants(response.data.data.restaurants);\n            }catch(err) {\n                console.log(err)\n            }\n        }\n\n        fetchData()\n    }, [])\n\n    const handleDelete = async (e, id) => {\n        e.stopPropagation();\n        try {\n            const response = await RestaurantFinder.delete(`/${id}`);\n            setRestaurants(restaurants.filter(restaurant => {\n                return restaurant.id !== id\n            }))\n            console.log(response);\n        } catch (err) {\n            console.log(err)\n        }\n    }\n\n    const handleUpdate = (e, id) => {\n        e.stopPropagation();\n        history.push(`/restaurants/${id}/update`)\n    }\n\n\n    const handleRestaurantSelect = (id) => {\n        history.push(`/restaurants/${id}`)\n    }\n\n    const renderRating = (restaurant) => {\n        \n        if(!restaurant.count){\n            return <span className=\"text-warning\">0 reviews</span>;\n        }\n        return(\n            <>\n                <StarRating rating={restaurant.average_rating} />\n                <span className=\"text-warning ml-1\"> ({restaurant.count})</span>\n            </>\n        )\n    }\n\n    return (\n        <div>\n            <div className=\"list-group\">\n                <table className=\"table table-hover \">\n                    <thead className=\"bg-primary text-white\">\n                        <tr >\n                            <th scope=\"col\">Restaurant</th>\n                            <th scope=\"col\">Location</th>\n                            <th scope=\"col\">Price Range</th>\n                            <th scope=\"col\">Ratings</th>\n                            <th scope=\"col\">Edit</th>\n                            <th scope=\"col\">Delete</th>\n                        </tr>\n                    </thead>\n                    <tbody className=\"table-dark\">\n                        {restaurants && restaurants.map(restaurant => {\n                            return(\n                                <tr onClick={() => handleRestaurantSelect(restaurant.id)} key={restaurant.id}>\n                                    <td>{restaurant.name}</td>\n                                    <td>{restaurant.location}</td>\n                                    <td>{\"$\".repeat(restaurant.price_range)}</td>\n                                    <td>{renderRating(restaurant)}</td>\n                                    <td><button \n                                    onClick={(e) => handleUpdate(e, restaurant.id)}\n                                    className=\"btn btn-warning\">Update</button></td>\n                                    <td><button onClick={(e) => handleDelete(e, restaurant.id)} className=\"btn btn-danger\">Delete</button></td>\n                                </tr>\n\n                            )\n                            \n                        })}\n                        \n                    </tbody>\n                </table>\n            </div>\n        </div>\n    )\n}\n\nexport default RestaurantList",["73","74"],"/home/cyril/projets CC/POSTGRES/yelp/client/src/context/RestaurantsContext.js",[],"/home/cyril/projets CC/POSTGRES/yelp/client/src/index.js",[],"/home/cyril/projets CC/POSTGRES/yelp/client/src/apis/RestaurantFinder.js",[],["75","76"],"/home/cyril/projets CC/POSTGRES/yelp/client/src/components/UpdateRestaurant.js",["77","78"],"import React, {useState, useEffect, useContext} from 'react'\nimport { useHistory, useParams } from 'react-router-dom'\nimport {RestaurantsContext} from '../context/RestaurantsContext'\nimport RestaurantFinder from '../apis/RestaurantFinder'\n\nexport default function UpdateRestaurant(props) {\n    const {id} = useParams();\n    let history = useHistory();\n    const {restaurants} = useContext(RestaurantsContext);\n    const [name, setName] = useState(\"\")\n    const [location, setLocation] = useState(\"\")\n    const [priceRange, setPriceRange] = useState(\"\")\n\n    useEffect(() => {\n        const fetchData = async() => {\n            const response = await RestaurantFinder.get(`/${id}`)\n            console.log(response.data.data)\n            setName(response.data.data.restaurant.name)\n            setLocation(response.data.data.restaurant.location)\n            setPriceRange(response.data.data.restaurant.price_range)\n\n        }\n        fetchData()\n        \n    }, [])\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const updatedRestaurant = await RestaurantFinder.put(`/${id}`, {\n            name, \n            location, \n            price_range:priceRange\n        })\n        console.log(updatedRestaurant)\n        history.push(\"/\");\n    }\n\n\n    \n    return (\n        <div>\n            \n            <form action=\"\">\n                <div className=\"form-group\">\n                    <label htmlFor=\"name\">Name</label>\n                    <input value={name} onChange={e => setName(e.target.value)} id=\"name\" type=\"text\" className=\"form-control\"/>\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"location\">Location</label>\n                    <input value={location} onChange={e => setLocation(e.target.value)} id=\"location\" type=\"text\" className=\"form-control\"/>\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"price_range\">Price Range</label>\n                    <input value={priceRange} onChange={e => setPriceRange(e.target.value)} id=\"price_range\" type=\"number\" className=\"form-control\" min=\"1\" max=\"5\"/>\n                </div>\n                <button type=\"submit\" onClick={handleSubmit} className=\"btn btn-primary\">Submit</button>\n            </form>\n        </div>\n    )\n}\n","/home/cyril/projets CC/POSTGRES/yelp/client/src/routes/RestaurantDetailPage.js",["79"],"/home/cyril/projets CC/POSTGRES/yelp/client/src/components/StarRating.js",[],"/home/cyril/projets CC/POSTGRES/yelp/client/src/components/Reviews.js",[],"/home/cyril/projets CC/POSTGRES/yelp/client/src/components/AddReview.js",[],{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","replacedBy":"83"},{"ruleId":"80","replacedBy":"84"},{"ruleId":"82","replacedBy":"85"},{"ruleId":"86","severity":1,"message":"87","line":24,"column":8,"nodeType":"88","endLine":24,"endColumn":10,"suggestions":"89"},{"ruleId":"80","replacedBy":"90"},{"ruleId":"82","replacedBy":"91"},{"ruleId":"80","replacedBy":"92"},{"ruleId":"82","replacedBy":"93"},{"ruleId":"94","severity":1,"message":"95","line":9,"column":12,"nodeType":"96","messageId":"97","endLine":9,"endColumn":23},{"ruleId":"86","severity":1,"message":"98","line":25,"column":8,"nodeType":"88","endLine":25,"endColumn":10,"suggestions":"99"},{"ruleId":"86","severity":1,"message":"100","line":25,"column":8,"nodeType":"88","endLine":25,"endColumn":10,"suggestions":"101"},"no-native-reassign",["102"],"no-negated-in-lhs",["103"],["102"],["103"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'setRestaurants'. Either include it or remove the dependency array.","ArrayExpression",["104"],["102"],["103"],["102"],["103"],"no-unused-vars","'restaurants' is assigned a value but never used.","Identifier","unusedVar","React Hook useEffect has a missing dependency: 'id'. Either include it or remove the dependency array.",["105"],"React Hook useEffect has missing dependencies: 'id' and 'setSelectedRestaurant'. Either include them or remove the dependency array.",["106"],"no-global-assign","no-unsafe-negation",{"desc":"107","fix":"108"},{"desc":"109","fix":"110"},{"desc":"111","fix":"112"},"Update the dependencies array to be: [setRestaurants]",{"range":"113","text":"114"},"Update the dependencies array to be: [id]",{"range":"115","text":"116"},"Update the dependencies array to be: [id, setSelectedRestaurant]",{"range":"117","text":"118"},[796,798],"[setRestaurants]",[961,963],"[id]",[915,917],"[id, setSelectedRestaurant]"]